CREATE TABLE MEMBER
(
MEMBER_ID VARCHAR2(100) PRIMARY KEY,
PW NUMBER NOT NULL,
NAME VARCHAR2(100),
EMAIL VARCHAR2(100),
PHONE VARCHAR2(100),
MANAGE_GRADE VARCHAR2(20) DEFAULT 'USER'
);

CREATE SEQUENCE SEQ2
START WITH 1
NOCYCLE
NOCACHE;

CREATE table APPLIANCE(
AP_ID VARCHAR2(100)NOT NULL,
AP_NAME VARCHAR2(1000)NOT NULL,
AP_PRICE NUMBER DEFAULT 0,
AP_MFR VARCHAR2(100),
AP_STOCK NUMBER DEFAULT 0,
IS_DELETED NUMBER DEFAULT 0,
OPTION_NAME VARCHAR2(300),
CATEGORIE VARCHAR2(100),
AP_NUMBER NUMBER PRIMARY KEY
);


CREATE TABLE PURCHASE(
ORDER_NUMBER NUMBER PRIMARY KEY,
MEMBER_ID VARCHAR2(100),
ORDER_QUANTITY NUMBER,
ORDER_PRICE NUMBER,
ORDER_DATE DATE DEFAULT SYSDATE,
AP_NUMBER NUMBER,
FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(MEMBER_ID) ON DELETE CASCADE,
FOREIGN KEY (AP_NUMBER) REFERENCES APPLIANCE(AP_NUMBER)
);

INSERT INTO MEMBER
VALUES('admin', 123, '관리자','admin@gmail.com', '010-1234-5678','ADMIN');

commit;

SELECT DISTINCT AP_NAME, AP_ID, AP_PRICE, AP_MFR, AP_STOCK, CATEGORIE FROM APPLIANCE WHERE IS_DELETED = 0;

SELECT MIN(AP_ID), AP_NAME, MIN(AP_PRICE) AS AP_PRICE, MIN(AP_MFR) AS AP_MFR, MIN(AP_STOCK) AS AP_STOCK, MIN(CATEGORIE) AS CATEGORIE 
FROM APPLIANCE 
WHERE IS_DELETED = 0 
GROUP BY AP_NAME;

SELECT AP_NAME FROM APPLIANCE WHERE IS_DELETED = 0 GROUP BY AP_NAME;


SELECT a.AP_ID, a.AP_NAME, a.AP_MFR, p.ORDER_DATE, p.ORDER_QUANTITY, p.ORDER_PRICE, p.ORDER_NUMBER FROM APPLIANCE a join PURCHASE p ON a.AP_NUMBER = p.AP_NUMBER WHERE p.MEMBER_ID = ? ORDER BY ORDER_NUMBER


sql문 